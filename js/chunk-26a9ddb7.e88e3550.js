(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26a9ddb7"],{a965:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r=n("2704"),i=n.n(r),s=n("238b"),o=n("d250"),c=n("6be8"),l=n("bae1"),p=n("3de1");const d={class:"flex justify-between items-center py-10px border-b-1 border-white/20"},u={class:"font-bold text-1rem text-primaryColor"},b={class:"flex justify-between items-center mb-8px"},y={class:"font-bold text-primaryColor"},m=["data-clipboard-text"],O={class:"flex justify-between items-center text-white/50"};var j={__name:"RewardRecord",props:["rebateType"],setup(e){const t=e,n=Object(a["inject"])("chainInfo"),r=Object(a["inject"])("poolLogContract"),i=Object(a["reactive"])({loading:!1,finished:!1,pageSize:40,skip:0,logs:[],totalRebate:"--"}),s=async()=>{try{if(i.finished||i.loading)return;i.loading=!0,console.log("load...",t.rebateType);const e=await r.value.minerRebateInfo(n.account,l["b"].USDT,i.skip,i.pageSize,t.rebateType);i.loading=!1,i.finished=e.logs.length<i.pageSize,i.logs=e.logs,i.totalRebate=e.total,console.log(e)}catch(e){console.log(e),i.finished=!0,i.loading=!1}};return Object(a["watch"])([()=>r.value],()=>{r.value&&s()},{immediate:!0}),(e,t)=>{const n=Object(a["resolveComponent"])("van-list");return Object(a["openBlock"])(),Object(a["createBlock"])(n,{loading:i.loading,finished:i.finished,"immediate-check":!1,"finished-text":e.$t("noMore"),onLoad:s},{default:Object(a["withCtx"])(()=>[Object(a["createElementVNode"])("div",d,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.$t("miningView.totalRebate")),1),Object(a["createElementVNode"])("span",u,Object(a["toDisplayString"])(Object(a["unref"])(c["a"])(Object(a["unref"])(c["c"])(i.totalRebate,Object(a["unref"])(l["b"]).USDTDecimals))),1)]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(i.logs,(n,r)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"py-0.5rem border-b-1 border-white/20",key:r},[Object(a["createElementVNode"])("div",b,[Object(a["createElementVNode"])("span",y,Object(a["toDisplayString"])(Object(a["unref"])(c["a"])(Object(a["unref"])(c["c"])(n["rebateAmount"],Object(a["unref"])(l["b"]).USDTDecimals))),1),Object(a["createElementVNode"])("span",{class:"copy-address text-white/50","data-clipboard-text":n["rebateUser"],onClick:t[0]||(t[0]=t=>Object(a["unref"])(p["b"])(".copy-address",e.$t("copySuccess")))},Object(a["toDisplayString"])(Object(a["unref"])(c["b"])(n["rebateUser"])),9,m)]),Object(a["createElementVNode"])("div",O,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.$t("rate"))+": "+Object(a["toDisplayString"])(n["rebateRate"]/10)+"%",1),Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.$t("level"))+": "+Object(a["toDisplayString"])(n["level"]),1),Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(Object(a["unref"])(c["d"])(1e3*n["rebateTime"])),1)])]))),128))]),_:1},8,["loading","finished","finished-text"])}}};const f=j;var v=f;const g={class:"container max-w-26rem px-15px mx-auto pb-2rem record"},T={class:"text-center relative my-0.5rem"},w=Object(a["createElementVNode"])("img",{class:"h-0.8rem mx-10px",src:i.a,alt:""},null,-1),h={class:"text-primaryColor pr-0.5rem"},x={class:"flex border-b-1 border-white/20"};var D={__name:"Index",setup(e){const{miningContract:t,getConfigData:n}=Object(s["a"])(),r=Object(a["inject"])("chainInfo"),i=Object(a["ref"])(null);Object(a["provide"])("poolLogContract",i);const c=Object(a["ref"])(0),l=async e=>{c.value!==e&&(c.value=e)},p=async()=>{await n();const e=await t.value.log();i.value=new o["a"](r.provider,r.account,e)};return Object(a["watch"])([()=>r.isActive],()=>{r.isActive&&p()},{immediate:!0}),(e,t)=>(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",g,[Object(a["createElementVNode"])("div",T,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e.$t("miningView.rebateRecord")),1),Object(a["createElementVNode"])("button",{class:"absolute -left-0.5rem top-0 flex items-center",onClick:t[0]||(t[0]=t=>e.$router.back())},[w,Object(a["createElementVNode"])("span",h,Object(a["toDisplayString"])(e.$t("back")),1)])]),Object(a["createElementVNode"])("div",x,[Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["flex-1 text-center py-0.5rem",0===c.value?"border-b-2 border-primaryColor text-primaryColor":"opacity-50"]),onClick:t[1]||(t[1]=e=>l(0))},Object(a["toDisplayString"])(e.$t("miningView.rebateType1")),3),Object(a["createElementVNode"])("span",{class:Object(a["normalizeClass"])(["flex-1 text-center py-0.5rem",1===c.value?"border-b-2 border-primaryColor text-primaryColor":"opacity-50"]),onClick:t[2]||(t[2]=e=>l(1))},Object(a["toDisplayString"])(e.$t("miningView.rebateType2")),3)]),i.value?(Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],{key:0},[Object(a["withDirectives"])(Object(a["createVNode"])(Object(a["unref"])(v),{"rebate-type":1},null,512),[[a["vShow"],0===c.value]]),Object(a["withDirectives"])(Object(a["createVNode"])(Object(a["unref"])(v),{"rebate-type":2},null,512),[[a["vShow"],1===c.value]])],64)):Object(a["createCommentVNode"])("",!0)]))}};const k=D;t["default"]=k},bc4f:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"newDev","type":"address"}],"name":"addDev","outputs":[],"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousDev","type":"address"},{"indexed":true,"internalType":"address","name":"newDev","type":"address"}],"name":"DevTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"i","type":"uint256"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"commission","type":"uint256"},{"internalType":"address","name":"referee","type":"address"},{"internalType":"uint256","name":"rebateRate","type":"uint256"},{"internalType":"uint256","name":"rebateType","type":"uint256"}],"name":"rebateRecord","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"rmAllDevs","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"oldDev","type":"address"}],"name":"rmDev","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token_","type":"address"},{"internalType":"address","name":"addr_","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"devs","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"dev","type":"address"}],"name":"isDev","outputs":[{"internalType":"bool","name":"","type":"bool"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"skip","type":"uint256"},{"internalType":"uint256","name":"num","type":"uint256"},{"internalType":"uint256","name":"rebateType","type":"uint256"}],"name":"minerRebateInfo","outputs":[{"components":[{"internalType":"address","name":"rebateUser","type":"address"},{"internalType":"uint256","name":"rebateTime","type":"uint256"},{"internalType":"uint256","name":"rebateAmount","type":"uint256"},{"internalType":"uint256","name":"level","type":"uint256"},{"internalType":"uint256","name":"rebateRate","type":"uint256"},{"internalType":"uint256","name":"rebateType","type":"uint256"}],"internalType":"struct PopLog.RebateInfo[]","name":"logs","type":"tuple[]"},{"internalType":"uint256","name":"count","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},d250:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("c030"),r=n("bc4f");class i{constructor(e,t,n,i=r){this.provider=e;const s=e.getSigner(t).connectUnchecked();this.contract=new a["a"].Contract(n,i,s),console.log("pool log contract:",n)}async minerRebateInfo(e,t,n,a,r){return this.contract.minerRebateInfo(e,t,n,a,r)}}}}]);