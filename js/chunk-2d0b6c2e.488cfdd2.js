(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6c2e"],{"1f14":function(e,t,a){"use strict";a.r(t);a("27f1");var c=a("1c96"),l=a("7a23"),o=a("3de1"),n=a("6be8"),r=a("238b"),s=a("6779");const d={class:"container max-w-26rem px-15px mx-auto pb-2rem community"},b=Object(l["createElementVNode"])("div",{class:"font-bold text-center mb-3 text-primaryColor"},"-- 配置信息 --",-1),i={class:"mb-3"},u={class:"mb-3"},m={class:"mb-3"},p=Object(l["createElementVNode"])("div",{class:"font-bold text-center mb-3 text-primaryColor"},"-- 矿池配置 --",-1),j=Object(l["createElementVNode"])("div",null,"设置机枪池比例",-1),O={class:"border-1 border-primaryColor py-10px rounded-full"},v={class:"text-center mt-2"},V=Object(l["createElementVNode"])("div",{class:"mt-3"},"设置机枪池比例开关",-1),x=Object(l["createTextVNode"])("开启"),w=Object(l["createTextVNode"])("关闭"),f={class:"text-center mt-2"},N=Object(l["createElementVNode"])("div",{class:"w-full h-2px my-2rem"},null,-1),y=Object(l["createElementVNode"])("div",{class:"mt-3"},"设置铸币比例",-1),E={class:"border-1 border-primaryColor py-10px rounded-full"},g={class:"text-center mt-2"},P=Object(l["createElementVNode"])("div",{class:"mt-3"},"设置铸币比例开关",-1),h=Object(l["createTextVNode"])("开启"),k=Object(l["createTextVNode"])("关闭"),C={class:"text-center mt-2"},J=Object(l["createElementVNode"])("div",{class:"w-full h-2px my-2rem"},null,-1),B=Object(l["createElementVNode"])("div",{class:"mt-3"},"设置最大持币数量",-1),_={class:"border-1 border-primaryColor py-10px rounded-full"};var D={__name:"MiningConfig",setup(e){const t=Object(l["inject"])("chainInfo"),{miningContract:a,getConfigData:D}=Object(r["a"])(),Q=Object(l["reactive"])({popJQPoolPercent:"",popBankPercent:""}),T=async()=>{const e=await a.value.getPopJQPoolPercent();console.log(e),Q.popJQPoolPercent=e.popJQPoolPercent,Q.popBankPercent=e.popBankPercent},U=Object(l["reactive"])({value:"",status:!0}),M=async e=>{if(0!==e||Object(o["a"])(U.value))try{let t=null;0===e&&(t=await a.value.setPopJQPoolPercent(U.value)),1===e&&(t=await a.value.setPopJQPoolEnable(U.status)),Object(c["a"])("处理中..."),await t.wait(),Object(c["a"])("已设置"),await T()}catch(t){console.log(t),Object(c["a"])(t.data||t.message||t)}},S=Object(l["reactive"])({value:"",status:!0}),A=async e=>{if(0!==e||Object(o["a"])(S.value))try{let t=null;0===e&&(t=await a.value.setPopBankPercent(S.value)),1===e&&(t=await a.value.setPopBankEnable(S.status)),Object(c["a"])("处理中..."),await t.wait(),Object(c["a"])("已设置"),await T()}catch(t){console.log(t),Object(c["a"])(t.data||t.message||t)}},L=Object(l["reactive"])({getValue:"",setValue:""}),R=async()=>{if(Object(o["a"])(L.setValue))try{const e=await a.value.setPopRewardMax(s["utils"].parseUnits(L.setValue.toString(),18));Object(c["a"])("处理中..."),await e.wait(),Object(c["a"])("已设置"),await T()}catch(e){console.log(e),Object(c["a"])(e.data||e.message||e)}},I=async()=>{const e=await a.value.popRewardMax();L.getValue=s["utils"].formatUnits(e,18)},$=async()=>{await D(),await T(),await I()};return Object(l["watch"])([()=>t.isActive,()=>t.isLogin],()=>{t.isActive&&t.isLogin&&$()},{immediate:!0}),(e,t)=>{const a=Object(l["resolveComponent"])("van-radio"),c=Object(l["resolveComponent"])("van-radio-group");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",d,[Object(l["createElementVNode"])("div",{class:"text-primaryColor",onClick:t[0]||(t[0]=t=>e.$router.back())},"<<返回"),b,Object(l["createElementVNode"])("div",i,"机枪池比例: "+Object(l["toDisplayString"])(Object(l["unref"])(n["a"])(Q.popJQPoolPercent/10,0))+"%",1),Object(l["createElementVNode"])("div",u,"铸币比例: "+Object(l["toDisplayString"])(Object(l["unref"])(n["a"])(Q.popBankPercent/10,0))+"%",1),Object(l["createElementVNode"])("div",m,"最大持币数量: "+Object(l["toDisplayString"])(Object(l["unref"])(n["a"])(L.getValue)),1),p,j,Object(l["createElementVNode"])("div",O,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"bg-transparent w-full px-4px",type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>U.value=e)},null,512),[[l["vModelText"],U.value]])]),Object(l["createElementVNode"])("div",v,[Object(l["createElementVNode"])("button",{class:"primary-btn h-2rem w-10rem text-black font-bold rounded-full",onClick:t[2]||(t[2]=e=>M(0))},"确认设置")]),V,Object(l["createVNode"])(c,{modelValue:U.status,"onUpdate:modelValue":t[3]||(t[3]=e=>U.status=e),class:"flex"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(a,{class:"flex-1",name:!0},{default:Object(l["withCtx"])(()=>[x]),_:1}),Object(l["createVNode"])(a,{class:"flex-1",name:!1},{default:Object(l["withCtx"])(()=>[w]),_:1})]),_:1},8,["modelValue"]),Object(l["createElementVNode"])("div",f,[Object(l["createElementVNode"])("button",{class:"primary-btn h-2rem w-10rem text-black font-bold rounded-full",onClick:t[4]||(t[4]=e=>M(1))},"确认设置")]),N,y,Object(l["createElementVNode"])("div",E,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"bg-transparent w-full px-4px",type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>S.value=e)},null,512),[[l["vModelText"],S.value]])]),Object(l["createElementVNode"])("div",g,[Object(l["createElementVNode"])("button",{class:"primary-btn h-2rem w-10rem text-black font-bold rounded-full",onClick:t[6]||(t[6]=e=>A(0))},"确认设置")]),P,Object(l["createVNode"])(c,{modelValue:S.status,"onUpdate:modelValue":t[7]||(t[7]=e=>S.status=e),class:"flex"},{default:Object(l["withCtx"])(()=>[Object(l["createVNode"])(a,{class:"flex-1",name:!0},{default:Object(l["withCtx"])(()=>[h]),_:1}),Object(l["createVNode"])(a,{class:"flex-1",name:!1},{default:Object(l["withCtx"])(()=>[k]),_:1})]),_:1},8,["modelValue"]),Object(l["createElementVNode"])("div",C,[Object(l["createElementVNode"])("button",{class:"primary-btn h-2rem w-10rem text-black font-bold rounded-full",onClick:t[8]||(t[8]=e=>A(1))},"确认设置")]),J,B,Object(l["createElementVNode"])("div",_,[Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{class:"bg-transparent w-full px-4px",type:"number","onUpdate:modelValue":t[9]||(t[9]=e=>L.setValue=e)},null,512),[[l["vModelText"],L.setValue]])]),Object(l["createElementVNode"])("div",{class:"text-center mt-2"},[Object(l["createElementVNode"])("button",{class:"primary-btn h-2rem w-10rem text-black font-bold rounded-full",onClick:R},"确认设置")])])}}};const Q=D;t["default"]=Q}}]);